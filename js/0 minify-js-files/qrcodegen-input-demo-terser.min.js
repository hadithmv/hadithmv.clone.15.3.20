"use strict";var app;!function(e){function t(){const e=r("output-format-bitmap").checked,t=n("scale-row");let o=n("download");e?(t.style.removeProperty("display"),o.download="qr-code.png"):(t.style.display="none",o.download="qr-code.svg"),o.removeAttribute("href");const i=n("qrcode-canvas"),c=document.getElementById("qrcode-svg");i.style.display="none",c.style.display="none";const l=r("errcorlvl-medium").checked?qrcodegen.QrCode.Ecc.MEDIUM:r("errcorlvl-quartile").checked?qrcodegen.QrCode.Ecc.QUARTILE:r("errcorlvl-high").checked?qrcodegen.QrCode.Ecc.HIGH:qrcodegen.QrCode.Ecc.LOW,a=n("text-input").value,s=qrcodegen.QrSegment.makeSegments(a),d=parseInt(r("version-min-input").value,10),u=parseInt(r("version-max-input").value,10),p=parseInt(r("mask-input").value,10),g=r("boost-ecc-input").checked,m=qrcodegen.QrCode.encodeSegments(s,l,d,u,p,g),v=parseInt(r("border-input").value,10),f=r("light-color-input").value,h=r("dark-color-input").value;if(!(v<0||v>100)){if(e){const e=parseInt(r("scale-input").value,10);if(e<=0||e>30)return;!function(e,t,n,r,o,i){if(t<=0||n<0)throw new RangeError("Value out of range");const c=(e.size+2*n)*t;i.width=c,i.height=c;let l=i.getContext("2d");for(let i=-n;i<e.size+n;i++)for(let c=-n;c<e.size+n;c++)l.fillStyle=e.getModule(c,i)?o:r,l.fillRect((c+n)*t,(i+n)*t,t,t)}(m,e,v,f,h,i),i.style.removeProperty("display"),o.href=i.toDataURL("image/png")}else{const e=function(e,t,n,r){if(t<0)throw new RangeError("Border must be non-negative");let o=[];for(let n=0;n<e.size;n++)for(let r=0;r<e.size;r++)e.getModule(r,n)&&o.push(`M${r+t},${n+t}h1v1h-1z`);return`<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 ${e.size+2*t} ${e.size+2*t}" stroke="none">\n    <rect width="100%" height="100%" fill="${n}"/>\n    <path d="${o.join(" ")}" fill="${r}"/>\n</svg>\n`}(m,v,f,h),t=/ viewBox="([^"]*)"/.exec(e)[1],n=/ d="([^"]*)"/.exec(e)[1];c.setAttribute("viewBox",t),c.querySelector("path").setAttribute("d",n),c.querySelector("rect").setAttribute("fill",f),c.querySelector("path").setAttribute("fill",h),c.style.removeProperty("display"),o.href="data:application/svg+xml,"+encodeURIComponent(e)}n("statistics-output").textContent=`QR Code version = ${m.version}, mask pattern = ${m.mask}, character count = ${function(e){let t=0;for(const n of e){const e=n.codePointAt(0);if(55296<=e&&e<57344)throw new RangeError("Invalid UTF-16 string");t++}return t}(a)},\nencoding mode = ${function(e){if(0==e.length)return"none";if(1==e.length){const t=e[0].mode,n=qrcodegen.QrSegment.Mode;return t==n.NUMERIC?"numeric":t==n.ALPHANUMERIC?"alphanumeric":t==n.BYTE?"byte":t==n.KANJI?"kanji":"unknown"}return"multiple"}(s)}, error correction = level ${"LMQH".charAt(m.errorCorrectionLevel.ordinal)}, data bits = ${qrcodegen.QrSegment.getTotalBits(s,m.version)}.`}}function n(e){const t=document.getElementById(e);if(t instanceof HTMLElement)return t;throw new Error("Assertion error")}function r(e){const t=n(e);if(t instanceof HTMLInputElement)return t;throw new Error("Assertion error")}e.handleVersionMinMax=function(e){const n=r("version-min-input"),o=r("version-max-input");let i=parseInt(n.value,10),c=parseInt(o.value,10);i=Math.max(Math.min(i,qrcodegen.QrCode.MAX_VERSION),qrcodegen.QrCode.MIN_VERSION),c=Math.max(Math.min(c,qrcodegen.QrCode.MAX_VERSION),qrcodegen.QrCode.MIN_VERSION),"min"==e&&i>c?c=i:"max"==e&&c<i&&(i=c),n.value=i.toString(),o.value=c.toString(),t()},function(){n("loading").style.display="none",n("loaded").style.removeProperty("display");let e=document.querySelectorAll("input[type=number], input[type=text], textarea");for(let n of e)0!=n.id.indexOf("version-")&&(n.oninput=t);e=document.querySelectorAll("input[type=radio], input[type=checkbox]");for(let n of e)n.onchange=t;t()}()}(app||(app={}));