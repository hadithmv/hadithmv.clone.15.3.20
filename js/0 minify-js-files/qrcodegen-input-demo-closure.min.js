var app;
(function(t){function r(){var a=h("output-format-bitmap").checked,b=m("scale-row");let e=m("download");a?(b.style.removeProperty("display"),e.download="qr-code.png"):(b.style.display="none",e.download="qr-code.svg");e.removeAttribute("href");var f=m("qrcode-canvas"),c=document.getElementById("qrcode-svg");f.style.display="none";c.style.display="none";var d=h("errcorlvl-medium").checked?qrcodegen.QrCode.Ecc.MEDIUM:h("errcorlvl-quartile").checked?qrcodegen.QrCode.Ecc.QUARTILE:h("errcorlvl-high").checked?qrcodegen.QrCode.Ecc.HIGH:
qrcodegen.QrCode.Ecc.LOW;b=m("text-input").value;const g=qrcodegen.QrSegment.makeSegments(b);var l=parseInt(h("version-min-input").value,10),q=parseInt(h("version-max-input").value,10),n=parseInt(h("mask-input").value,10);const u=h("boost-ecc-input").checked;d=qrcodegen.QrCode.encodeSegments(g,d,l,q,n,u);n=parseInt(h("border-input").value,10);l=h("light-color-input").value;q=h("dark-color-input").value;if(!(0>n||100<n)){if(a){c=parseInt(h("scale-input").value,10);if(0>=c||30<c)return;v(d,c,n,l,q,
f);f.style.removeProperty("display");e.href=f.toDataURL("image/png")}else a=w(d,n,l,q),f=/ viewBox="([^"]*)"/.exec(a)[1],n=/ d="([^"]*)"/.exec(a)[1],c.setAttribute("viewBox",f),c.querySelector("path").setAttribute("d",n),c.querySelector("rect").setAttribute("fill",l),c.querySelector("path").setAttribute("fill",q),c.style.removeProperty("display"),e.href="data:application/svg+xml,"+encodeURIComponent(a);m("statistics-output").textContent=`QR Code version = ${d.version}, `+`mask pattern = ${d.mask}, `+
`character count = ${(function(k){let p=0;for(const x of k){k=x.codePointAt(0);if(55296<=k&&57344>k)throw new RangeError("Invalid UTF-16 string");p++}return p})(b)},\n`+`encoding mode = ${(function(k){if(0==k.length)return"none";if(1==k.length){k=k[0].mode;const p=qrcodegen.QrSegment.Mode;return k==p.NUMERIC?"numeric":k==p.ALPHANUMERIC?"alphanumeric":k==p.BYTE?"byte":k==p.KANJI?"kanji":"unknown"}return"multiple"})(g)}, `+`error correction = level ${"LMQH".charAt(d.errorCorrectionLevel.ordinal)}, `+
`data bits = ${qrcodegen.QrSegment.getTotalBits(g,d.version)}.`}}function v(a,b,e,f,c,d){if(0>=b||0>e)throw new RangeError("Value out of range");var g=(a.size+2*e)*b;d.width=g;d.height=g;d=d.getContext("2d");for(g=-e;g<a.size+e;g++)for(let l=-e;l<a.size+e;l++)d.fillStyle=a.getModule(l,g)?c:f,d.fillRect((l+e)*b,(g+e)*b,b,b)}function w(a,b,e,f){if(0>b)throw new RangeError("Border must be non-negative");let c=[];for(let d=0;d<a.size;d++)for(let g=0;g<a.size;g++)a.getModule(g,d)&&c.push(`M${g+b},${d+
b}h1v1h-1z`);return`<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 ${a.size+2*b} ${a.size+2*b}" stroke="none">
    <rect width="100%" height="100%" fill="${e}"/>
    <path d="${c.join(" ")}" fill="${f}"/>
</svg>
`}function m(a){a=document.getElementById(a);if(a instanceof HTMLElement)return a;throw Error("Assertion error");}function h(a){a=m(a);if(a instanceof HTMLInputElement)return a;throw Error("Assertion error");}t.handleVersionMinMax=function(a){const b=h("version-min-input"),e=h("version-max-input");let f=parseInt(b.value,10),c=parseInt(e.value,10);f=Math.max(Math.min(f,qrcodegen.QrCode.MAX_VERSION),qrcodegen.QrCode.MIN_VERSION);c=Math.max(Math.min(c,qrcodegen.QrCode.MAX_VERSION),qrcodegen.QrCode.MIN_VERSION);
"min"==a&&f>c?c=f:"max"==a&&c<f&&(f=c);b.value=f.toString();e.value=c.toString();r()};(function(){m("loading").style.display="none";m("loaded").style.removeProperty("display");let a=document.querySelectorAll("input[type=number], input[type=text], textarea");for(let b of a)0!=b.id.indexOf("version-")&&(b.oninput=r);a=document.querySelectorAll("input[type=radio], input[type=checkbox]");for(let b of a)b.onchange=r;r()})()})(app||={});
