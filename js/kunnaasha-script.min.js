$(document).ready(()=>{$.extend(!0,$.fn.dataTable.defaults,{});window.matchMedia("(min-width: 900px)").matches?$.extend(!0,$.fn.dataTable.defaults,{dom:'<"dTop"pBfl>rtip',pageLength:3,keys:{clipboardOrthogonal:"export"},language:{paginate:{first:"<<&nbsp;ފުރަތަމަ",previous:"<&nbsp;ފަހަތަށް",next:"ކުރިއަށް&nbsp;>",last:"ފަހު&nbsp;>>",info:"_INPUT_"}}}):$.extend(!0,$.fn.dataTable.defaults,{dom:'<"mTop"fl> + <"mTop2"p> + <"mTop3"B> rtip',pageLength:1,language:{paginate:{first:"<<",previous:"<",next:">",
last:">>",info:"_INPUT_"}}});const d=$("#kunnaashaTable").DataTable({data:kunnaasha_DB.slice().reverse(),columns:[{data:null,title:"ސުރުހީ",render:function(a,b,c){return c[3].split("\n")[0]}},{data:0,title:"ލިޔުންތެރިޔާ",render:function(a,b,c){return"- "+a}},{data:1,title:"ތާރީޚު"},{data:2,title:"އަރަބި ލިޔުން"},{data:null,title:"ލިޔުން",render:function(a,b,c){a=c[3].split("\n");a.shift();return a.join("\n").replace(/\r\n|\n|\r/g,'\t<br class="br">')}},{data:3,title:"ލިޔުން ފިލިނުޖަހައި",render:function(a,
b,c){return a.replace(/[َ|ً|ُ|ٌ|ِ|ٍ|ْ|ّ|~|⁽|⁾|¹²³⁴⁵⁶⁷⁸⁹⁰]/g,"").replace(/(\n)/g,'<br class="br">')}},{data:4,title:"މަސްދަރު"},{data:5,title:"ލިންކު"}],columnDefs:[{targets:[6],data:"download_link",render:function(a,b,c,g){a=a.split(" ");url=a.shift();a=a.length?a.join(" "):url;return'<a href="'+url+'" rel="noopener noreferrer" target="_blank">'+a+"</a>"}},{targets:"_all",render:function(a,b,c){return a.replace(/\r\n|\n|\r/g,'\t<br class="br">')}},{className:"ColKitab",targets:[0],visible:!0,searchable:!0,
searchPanes:{show:!0}},{className:"ColKitab2",targets:[1],visible:!0,searchable:!0,searchPanes:{show:!0}},{className:"Col3",targets:[2],visible:!0,searchable:!0,searchPanes:{show:!0}},{className:"Col4",targets:[3],visible:!1,searchable:!0,searchPanes:{show:!0}},{className:"Col5",targets:[4],visible:!0,searchable:!0,searchPanes:{show:!1}},{className:"Col6",targets:[5],visible:!1,searchable:!0,searchPanes:{show:!1}},{className:"Col7",targets:[6],visible:!1,searchable:!1,searchPanes:{show:!1}},{className:"Col8",
targets:[7],visible:!0,searchable:!1,searchPanes:{show:!1}},{targets:"all",render(a,b,c,g){return"export"===b?(b=document.createElement("div"),b.innerHTML=a,b.innerText):a}}],autoWidth:!1,deferRender:!0,processing:!0,ordering:!1,orderSequence:["desc","asc"],bstateSave:!0,stateDuration:"86400",orderClasses:!1,pagingType:"input",searchDelay:1E3,lengthMenu:[[1,2,3,4,5],["1 ދައްކާ",2,3,4,5]],keepConditions:!0,keys:!0,mark:!0,search:{smart:!0},language:{buttons:{copyTitle:"ކޮޕީ",copySuccess:{1:"ކޮޕީ ވީ 1",
_:"ކޮޕީ ވީ %d"}},info:"_TOTAL_ ގެ ތެރެއިން _START_ އިން _END_ އަށް",infoFiltered:"(ޖުމްލަ ބެލެވުނީ _MAX_)",infoEmpty:"— ނުފެނުނު —",lengthMenu:"_MENU_",search:"",searchPlaceholder:'ސީދާ ލަފްޒު "މިހެން ހޯދާ"',zeroRecords:"<br><br><br><br>— ނުފެނުނު —<br><br><br><br><br>",searchPanes:{emptyMessage:"— ވަކި އެއްޗެއް ނުޖަހާ —",clearMessage:"ފިލްޓަރތައް ދުއްވާލާ",collapse:{0:"ފިލްޓަރ",_:"ފިލްޓަރ (%d)"},title:{_:"%d ފިލްޓަރ ކުރެވިފާ",0:"0 ފިލްޓަރ ކުރެވިފާ",1:"1 ފިލްޓަރ ކުރެވިފާ"}}},buttons:[{extend:"copy",
key:{key:"c",shiftKey:!0},text:"ކޮޕީ",messageTop:"ޙަދީޘްއެމްވީ – ނޯޓުފޮތް",title:"",customize(a){a=a.replace(/\r\n|\n/g,"\t");a=a.replace(/#\t/g,"");a=a.replace(/ސުރުހީ\t/g,"");a=a.replace(/ލިޔުންތެރިޔާ\t/g,"");a=a.replace(/ތާރީޚު\t/g,"");a=a.replace(/އަރަބި ލިޔުން\t/g,"");a=a.replace(/ލިޔުން\t/g,"");a=a.replace(/ލިޔުން ފިލިނުޖަހައި\t/g,"");a=a.replace(/މަސްދަރު\t/g,"");a=a.replace(/ލިންކު\t/g,"");a=a.replace(/\t‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾/g,"\n\n‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾\n");a=a.replace(/\t\t/g,"\t");a=a.replace(/\n\n\n\n|\n\n\n|\t|\s\s/g,
"\n\n");console.log(JSON.stringify(a));return a},exportOptions:{columns:[":visible"],rows:[":visible"]}},{extend:"searchPanes",key:{key:"f",shiftKey:!0},config:{collapse:!1,orderable:!1,columns:[1,2,3],cascadePanes:!0,dtOpts:{select:{style:"multi"},ordering:!1}}},{extend:"colvis",key:{key:"s",shiftKey:!0},text:"އިތުރު ބަރިތައް",background:!1}]});document.addEventListener("touchstart",function(a){a=(a.touches||a.originalEvent.touches)[0];e=a.clientX;f=a.clientY},!1);document.addEventListener("touchmove",
function(a){if(e&&f){var b=e-a.touches[0].clientX;Math.abs(b)>Math.abs(f-a.touches[0].clientY)&&(0<b?d.page("previous").draw("page"):d.page("next").draw("page"));f=e=null}},!1);let e=null,f=null;if(window.matchMedia("(min-width: 900px)").matches)$(".dataTable").on("page.dt",()=>{$("html, body").animate({scrollTop:0},"fast");$("main-content").focus();$(window).scrollTop()});else $(".dataTable").on("page.dt",()=>{$("html, body").animate({scrollTop:195},"fast");$("main-content").focus();$(window).scrollTop()});
window.matchMedia("(min-width: 900px)").matches?($(".dataTable").addClass("row-border"),$("div.dataTables_filter input",d.table().container()).focus()):$(".dataTable").addClass("cards");$(".paginate_input").prop("type","search");$(".paginate_input").attr("placeholder","ސަފުހާ...");$(document).ready(function(){$("#footer").removeClass("hidden")});$("tbody").on("dblclick","tr",function(){""!==d.search()&&d.search("").draw();d.row(this).draw().show().select().draw(!1)});$(".dataTables_filter input").on("keyup click",
function(){var a=$(this).val();a=a.replace(/[َ|ً|ُ|ٌ|ِ|ٍ|ْ|ّ|~|.|،|!|؟|-|ـ|’|”|:|؛|/{|/}|/(|/)|/[|/]|«|»|]/g,"");$(this).val(a)})});
