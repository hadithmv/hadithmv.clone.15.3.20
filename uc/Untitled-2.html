<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>DataTables - JS Bin</title>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

    <link
      href="https://nightly.datatables.net/css/dataTables.dataTables.css"
      rel="stylesheet"
      type="text/css"
    />
    <script src="https://nightly.datatables.net/js/dataTables.js"></script>

    <link
      href="https://cdn.datatables.net/buttons/3.1.0/css/buttons.dataTables.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.datatables.net/buttons/3.1.0/js/dataTables.buttons.min.js"></script>

    <script src="https://cdn.datatables.net/plug-ins/2.1.2/features/inputPaging/dist/dataTables.inputPaging.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/3.1.0/js/buttons.html5.min.js"></script>
  </head>
  <body>
    <div class="container">
      <table id="example" class="display nowrap" width="100%">
        <thead>
          <tr>
            <th>Name</th>
            <th>Position</th>
            <th>Office</th>
            <th>Age</th>
            <th>Start date</th>
            <th>Salary</th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>Tiger Nixon</td>
            <td>System Architect</td>
            <td>Edinburgh</td>
            <td>61</td>
            <td>2011/04/25</td>
            <td>$3,120</td>
          </tr>
          <tr>
            <td>Garrett Winters</td>
            <td>Director</td>
            <td>Edinburgh</td>
            <td>63</td>
            <td>2011/07/25</td>
            <td>$5,300</td>
          </tr>
        </tbody>
      </table>
    </div>
  </body>

  <script>
    //
    // Remove the defaults
    DataTable.defaults.layout = {
      topStart: null,
      topEnd: null,
      bottomStart: null,
      bottomEnd: null,
    };

    //
    function initializeDataTable() {
      const isMobile = window.innerWidth <= 599; // Adjust this breakpoint as needed

      const desktopLayout = {
        top: [
          "paging",
          "search",
          {
            buttons: [
              {
                extend: "copy",
              },
            ],
          },
          "pageLength",
        ],
        bottom: "inputPaging",
      };

      const mobileLayout = {
        top: ["search"],
        bottom: ["paging", "pageLength"],
      };

      /*Object.assign(DataTable.defaults, {
        layout: isMobile ? mobileLayout : desktopLayout,
      });
      new DataTable("#example", {
      });*/

      new DataTable("#example", {
        layout: isMobile ? mobileLayout : desktopLayout,
        // Add any additional options here
      });

      //
    } // function initializeDataTable() {END
    //

    // Initialize the DataTable
    initializeDataTable();
    //

    // Re-initialize the DataTable on window resize
    window.addEventListener("resize", function () {
      const table = DataTable.tables({ visible: true, api: true }).destroy();
      initializeDataTable();
    }); // window.addEventListener END
  </script>
</html>
