document.addEventListener("DOMContentLoaded",(()=>{function e(){const e=this.value;i.value=e,d.value=e,u.style.fontSize=`${e}px`}function t(){var e=u.value;const t=e.trim()?e.trim().split(/\s+/).length:0,a=e?e.split("\n").length:0;g.textContent=`Char: ${e.length}`,v.textContent=`Wrd: ${t}`,m.textContent=`Ln: ${a}`,e=new Blob([e]).size,p.textContent=1024>e?`B: ${e}`:1048576>e?`KB: ${(e/1024).toFixed(2)}`:1073741824>e?`MB: ${(e/1048576).toFixed(2)}`:`GB: ${(e/1073741824).toFixed(2)}`}function a(e){f[y-1].content=u.value,y=e,u.value=f.find((t=>t.id===e)).content,document.querySelectorAll(".numbered-tab").forEach((t=>{t.classList.toggle("active",parseInt(t.dataset.tab)===e)})),t()}function n(){u.style.direction="ltr",u.style.textAlign="left"}function r(){window.scrollTo({top:0,behavior:"smooth"})}function l(){document.querySelectorAll(".dropdown-content").forEach((e=>{e.classList.remove("show")}))}function o(){const e=new Date,t="true"===localStorage.getItem("militaryTime"),a=e.getHours()%12||12,n=String(e.getHours()).padStart(2,"0");var r=t?n:a;const l=12<=e.getHours()?"PM":"AM";String(e.getMinutes()).padStart(2,"0");var o=e.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"});o=o.replace(/^(\w+)\s+(\d+)/,((e,t,a)=>`${t}, ${a}${["th","st","nd","rd"][3<a%10?0:a%10]}`)),document.getElementById("gregorianLongEn").textContent=`${o}, at ${t?n:a}:${String(e.getMinutes()).padStart(2,"0")}${t?"":" "+l}`,o="އާދީއްތަ ހޯމަ އަންގާރަ ބުދަ ބުރާސްފަތި ހުކުރު ހޮނިހިރު".split(" ");const c=t?"":12<=e.getHours()?"މެނދުރުފަސް":"މެނދުރުކުރި";r=`${o[e.getDay()]}، ${e.getDate()} ${"ޖަނަވަރީ ފެބުރުވަރީ މާރިޗު އެޕްރީލް މޭ ޖޫން ޖުލައި އޮގަސްޓު ސެޕްޓެންބަރު އޮކްޓޫބަރު ނޮވެންބަރު ޑިސެންބަރު".split(" ")[e.getMonth()]} ${e.getFullYear()}، ${r}:${String(e.getMinutes()).padStart(2,"0")}${t?"":" "+c}`,document.getElementById("gregorianLongDv").textContent=r,r={weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0};let s=e.toLocaleDateString("ar",{...r,hour12:!t});s=e.toLocaleDateString("ar",r),s=s.replace(/(\d{4})\s*،?\s*في/,"$1، في").replace(/\s+،/g,"،").replace(/\d{1,2}:\d{2}\s*[صم]/,`${t?n:a}:${String(e.getMinutes()).padStart(2,"0")}${t?"":12<=e.getHours()?" م":" ص"}`),document.getElementById("gregorianLongAr").textContent=s;try{const r=new Intl.DateTimeFormat("ar-TN-u-ca-islamic",{weekday:"long",day:"numeric",month:"long",year:"numeric",calendar:"islamic"}).format(e),s=`، في ${t?n:a}:${String(e.getMinutes()).padStart(2,"0")}${t?"":12<=e.getHours()?" م":" ص"}`;let u,i,d,g;document.getElementById("hijriLongAr").textContent=r.replace(/هـ/,"").replace(/\s+،/g,"،").replace(/\s+$/,"")+s,new Intl.DateTimeFormat("en-u-ca-islamic-umalqura",{weekday:"long",day:"numeric",month:"long",year:"numeric",calendar:"islamic"}).formatToParts(e).forEach((e=>{"weekday"===e.type&&(u=e.value),"day"===e.type&&(i=e.value),"month"===e.type&&(d=e.value),"year"===e.type&&(g=e.value)})),document.getElementById("hijriLongEn").textContent=`${u}, ${parseInt(i)} ${d}, ${g} AH, at ${t?n:a}:${String(e.getMinutes()).padStart(2,"0")}${t?"":" "+l}`;const v={Muharram:"މުޙައްރަމް",Safar:"ޞަފަރު","Rabi' I":"ރަބީޢުލްއައްވަލް","Rabi' II":"ރަބީޢުލްއާޚިރު","Jumada I":"ޖުމާދަލްއޫލާ","Jumada II":"ޖުމާދަލްއާޚިރާ",Rajab:"ރަޖަބު","Sha'ban":"ޝަޢުބާން",Ramadan:"ރަމަޟާން",Shawwal:"ޝައްވާލް","Dhu'l-Qi'dah":"ޛުލްޤަޢިދާ","Dhu'l-Hijjah":"ޛުލްޙިއްޖާ"};let m,p,h;new Intl.DateTimeFormat("en-u-ca-islamic",{day:"numeric",month:"long",year:"numeric",calendar:"islamic"}).formatToParts(e).forEach((e=>{"day"===e.type&&(m=e.value),"month"===e.type&&(p=v[e.value]||e.value),"year"===e.type&&(h=e.value)})),document.getElementById("hijriLongDv").textContent=`${o[e.getDay()]}، ${parseInt(m)} ${p} ${h}، ${t?n:a}:${String(e.getMinutes()).padStart(2,"0")}${t?"":" "+c}`;const b=new Intl.DateTimeFormat("en-u-ca-islamic",{day:"numeric",month:"numeric",year:"numeric",calendar:"islamic"}).format(e).replace(/[^0-9/]/g,"");document.getElementById("hijriShort").textContent=`${b} ${t?n:a}:${String(e.getMinutes()).padStart(2,"0")}${t?"":" "+l}`}catch(e){console.error("Error formatting Hijri dates:",e),["hijriLongAr","hijriLongEn","hijriLongDv","hijriShort"].forEach((e=>{document.getElementById(e).textContent="Hijri date unavailable"}))}String(e.getDate()).padStart(2,"0"),String(e.getMonth()+1).padStart(2,"0"),e.getFullYear(),String(e.getMinutes()).padStart(2,"0"),document.getElementById("gregorianShort").textContent=`${String(e.getDate()).padStart(2,"0")}/${String(e.getMonth()+1).padStart(2,"0")}/${e.getFullYear()} ${t?n:a}:${String(e.getMinutes()).padStart(2,"0")}${t?"":" "+l}`}const c=document.querySelectorAll(".top-tab"),s=document.querySelectorAll(".tab-content"),u=document.getElementById("textArea"),i=document.getElementById("fontSizeSlider"),d=document.getElementById("fontSize"),g=document.getElementById("charCount"),v=document.getElementById("wordCount"),m=document.getElementById("lineCount"),p=document.getElementById("fileSize"),h=document.getElementById("addTab"),b=document.querySelector(".numbered-tabs");let y=1,f=[{id:1,content:""}];c.forEach((e=>{e.addEventListener("click",(()=>{c.forEach((e=>e.classList.remove("active"))),e.classList.add("active"),s.forEach((t=>{t.classList.remove("active"),t.id===`${e.dataset.tab}Tab`&&t.classList.add("active")}))}))})),i.addEventListener("input",e),d.addEventListener("change",e),d.addEventListener("click",(function(){})),u.addEventListener("input",function(e){let t;return function(...a){clearTimeout(t),t=setTimeout((()=>{clearTimeout(t),e(...a)}),300)}}(t)),h.addEventListener("click",(()=>{const e=f.length+1;f.push({id:e,content:""});const t=document.createElement("button");t.classList.add("numbered-tab"),t.dataset.tab=e,t.textContent=e,b.insertBefore(t,h),a(e)})),b.addEventListener("click",(e=>{e.target.classList.contains("numbered-tab")&&a(parseInt(e.target.dataset.tab))})),document.querySelectorAll(".dropdown-button").forEach((e=>{const a=e.querySelector(".function-button"),o=e.querySelector(".dropdown-content");a.addEventListener("click",(e=>{e.stopPropagation(),l(),o.classList.toggle("show")})),o.addEventListener("click",(e=>{e.stopPropagation(),"BUTTON"===e.target.tagName&&e.target.dataset.action&&(function(e){switch(e){case"arabicToRegular":u.value=u.value.replace(/[٠١٢٣٤٥٦٧٨٩]/g,(e=>"٠١٢٣٤٥٦٧٨٩".indexOf(e)));break;case"regularToArabic":u.value=u.value.replace(/[0-9]/g,(e=>"٠١٢٣٤٥٦٧٨٩"[e]));break;case"removePrecedingZeros":u.value=u.value.replace(/\b0+(\d)/g,"$1");break;case"removeAllNumbers":u.value=u.value.replace(/[٠-٩0-9]/g,"");break;case"keepOnlyNumbers":u.value=u.value.replace(/[^٠-٩0-9]/g,"");break;case"rtlStraightToCurly":case"ltrStraightToCurly":e="rtlStraightToCurly"===e,u.value=u.value.replace(/(\W|^)"(\S)/g,`$1${e?"”":"“"}$2`).replace(new RegExp(`(${e?"”":"“"}[^"]*)"([^"]*$|[^${e?"”":"“"}"]*${e?"”":"“"})`,"g"),`$1${e?"“":"”"}$2`).replace(/([^0-9])"/g,"$1"+(e?"“":"”")).replace(/(\W|^)'(\S)/g,`$1${e?"’":"‘"}$2`).replace(/([a-z])'([a-z])/gi,"$1‘$2").replace(/((\u2019[^']*)|[a-z])'([^0-9]|$)/gi,`$1${e?"‘":"’"}$3`).replace(/(\u2019)([0-9]{2}[^\u2018]*)(\u2019([^0-9]|$)|$|\u2018[a-z])/gi,"‘$2$3").replace(/(\B|^)\u2019(?=([^\u2018]*\u2018\b)*([^\u2018\u2019]*\W[\u2018\u2019]\b|[^\u2018\u2019]*$))/gi,"$1‘").replace(/'''/g,"‴").replace(/''/g,"″").replace(/'/g,"′");break;case"curlyToStraight":u.value=u.value.replace(/[\u2018\u2019]/g,"'").replace(/[\u201C\u201D]/g,'"');break;case"removeJsComments":u.value=u.value.replace(/\/\*[\s\S]*?\*\/|\/\/.*/g,""),n();break;case"removeHtmlComments":u.value=u.value.replace(/\x3c!--[\s\S]*?--\x3e/g,""),n();break;case"removeCssComments":u.value=u.value.replace(/\/\*[\s\S]*?\*\//g,""),n();break;case"removePythonComments":u.value=u.value.replace(/#.*$/gm,"").replace(/'''[\s\S]*?'''|"""[\s\S]*?"""/g,""),n();break;case"removePowershellComments":u.value=u.value.replace(/#.*$/gm,"").replace(/<#[\s\S]*?#>/g,""),n();break;case"removePhpComments":u.value=u.value.replace(/\/\*[\s\S]*?\*\/|\/\/.*|#.*$/gm,""),n();break;case"textToParagraphs":u.value=u.value.split("\n").filter((e=>e.trim())).map((e=>`<p>${e}</p>`)).join("\n"),n();break;case"textToBrTags":u.value=u.value.split("\n").join("<br>\n"),n();break;case"textToOrderedList":u.value="<ol>\n"+u.value.split("\n").filter((e=>e.trim())).map((e=>`  <li>${e}</li>`)).join("\n")+"\n</ol>",n();break;case"textToUnorderedList":u.value="<ul>\n"+u.value.split("\n").filter((e=>e.trim())).map((e=>`  <li>${e}</li>`)).join("\n")+"\n</ul>",n();break;case"removeHtmlTags":u.value=u.value.replace(/<[^>]*>/g,"");break;case"removeArabicDiacritics":u.value=u.value.replace(/[\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/g,"");break;case"removeDhivehiFili":u.value=u.value.replace(/[\u07A6-\u07B0]/g,"");break;case"saveFile":e=new Blob([u.value],{type:"text/plain;charset=utf-8"});var a=document.createElement("a");a.href=URL.createObjectURL(e),a.download="saved_text.txt",a.click();break;case"loadFile":(e=document.createElement("input")).type="file",e.accept="text/plain",e.onchange=e=>{e=e.target.files[0];const a=new FileReader;a.onload=e=>{u.value=e.target.result,t()},a.readAsText(e)},e.click();break;case"titleCase":u.value=u.value.replace(/\w\S*/g,(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()));break;case"sentenceCase":u.value=u.value.toLowerCase().replace(/(^\w|\.\s+\w)/g,(e=>e.toUpperCase()));break;case"lowercase":u.value=u.value.toLowerCase();break;case"UPPERCASE":u.value=u.value.toUpperCase();break;case"alternatingCase":u.value=u.value.split("").map(((e,t)=>0==t%2?e.toLowerCase():e.toUpperCase())).join("");break;case"inverseCase":u.value=u.value.split("").map((e=>e===e.toUpperCase()?e.toLowerCase():e.toUpperCase())).join("");break;case"randomCase":u.value=u.value.split("").map((e=>.5<Math.random()?e.toUpperCase():e.toLowerCase())).join("");break;case"camelCase":u.value=u.value.toLowerCase().replace(/[^a-zA-Z0-9]+(.)/g,((e,t)=>t.toUpperCase()));break;case"pascalCase":u.value=u.value.toLowerCase().replace(/(^|[^a-zA-Z0-9]+)(.)/g,((e,t,a)=>a.toUpperCase()));break;case"snakeCase":u.value=u.value.toLowerCase().replace(/[^a-zA-Z0-9]+/g,"_").replace(/^_+|_+$/g,"");break;case"constantCase":u.value=u.value.toUpperCase().replace(/[^A-Z0-9]+/g,"_").replace(/^_+|_+$/g,"");break;case"kebabCase":u.value=u.value.toLowerCase().replace(/[^a-zA-Z0-9]+/g,"-").replace(/^-+|-+$/g,"");break;case"dotCase":u.value=u.value.toLowerCase().replace(/[^a-zA-Z0-9]+/g,".").replace(/^\.+|\.+$/g,"");break;case"flatcase":u.value=u.value.toLowerCase().replace(/[^a-zA-Z0-9]+/g,"");break;case"splitIntoWords":u.value=u.value.split(/\s+/).filter((e=>0<e.length)).join("\n");break;case"sortWordsByFrequency":r();const o={};(u.value.toLowerCase().match(/\b[\w']+\b/g)||[]).forEach((e=>{o[e]=(o[e]||0)+1})),e=Object.entries(o).sort(((e,t)=>t[1]-e[1])).map((([e,t])=>`${t}: ${e}`)),u.value=e.join("\n");break;case"sortLinesByFrequency":r();const c={};u.value.split("\n").filter((e=>""!==e.trim())).forEach((e=>{c[e]=(c[e]||0)+1})),e=Object.entries(c).sort(((e,t)=>t[1]-e[1])).map((([e,t])=>`${t}: ${e}`)),u.value=e.join("\n");break;case"sortLinesAscending":u.value=u.value.split("\n").sort(((e,t)=>e.localeCompare(t))).join("\n");break;case"sortLinesDescending":u.value=u.value.split("\n").sort(((e,t)=>t.localeCompare(e))).join("\n");break;case"randomizeLines":u.value=u.value.split("\n").sort((()=>Math.random()-.5)).join("\n");break;case"removeDuplicateLines":u.value=[...new Set(u.value.split("\n"))].join("\n");break;case"reverseTextHorizontal":u.value=u.value.split("").reverse().join("");break;case"reverseTextVertical":u.value=u.value.split("\n").reverse().join("\n");break;case"decodeUnicode":u.value=u.value.replace(/\\u([0-9a-fA-F]{4})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})),n();break;case"encodeUnicode":u.value=u.value.replace(/[\s\S]/g,(function(e){for(e=e.charCodeAt(0).toString(16);4>e.length;)e="0"+e;return"\\u"+e})),n();break;case"decodeURL":try{u.value=decodeURI(u.value)}catch(h){alert("Invalid URL encoding")}n();break;case"encodeURL":u.value=encodeURI(u.value),n();break;case"whichUnicodeCharacter":e=u.value,a="";for(let b=0;b<e.length;b++){const y=e.codePointAt(b),f=`https://codepoints.net/U+${y.toString(16).toUpperCase().padStart(4,"0")}`;a+=`U+${y.toString(16).toUpperCase().padStart(4,"0")} : ${e[b]} : ${f}\n`,65535<y&&b++}u.value=a,n();break;function l(e){let t=u.value;var a={regular:"0123456789",mathSansSerif:"𝟢𝟣𝟤𝟥𝟦𝟧𝟨𝟩𝟪𝟫",fullWidth:"０１２３４５６７８９",mathSansSerifBold:"𝟬𝟭𝟮𝟯𝟰𝟱𝟲𝟳𝟴𝟵",circled:"⓪①②③④⑤⑥⑦⑧⑨",negativeCircled:"⓿❶❷❸❹❺❻❼❽❾"};for(Object.values(a).forEach((e=>{[...e].forEach(((e,a)=>{t=t.replace(new RegExp(e,"g"),a)}))})),e=[...a[e]],a=0;10>a;a++)t=t.replace(new RegExp(a.toString(),"g"),e[a]);u.value=t}case"toRegularNumbers":l("regular");break;case"toMathSansSerif":l("mathSansSerif");break;case"toFullWidth":l("fullWidth");break;case"toMathSansSerifBold":l("mathSansSerifBold");break;case"toCircled":l("circled");break;case"toNegativeCircled":l("negativeCircled");break;case"convertBrackets":const s=(e={round:["(",")"],square:["[","]"],superscript:["⁽","⁾"],corner:["⌜","⌝"]})[document.getElementById("bracketFrom").value],i=e[document.getElementById("bracketTo").value],d=document.getElementById("bracketDirection").value,g=document.getElementById("bracketTo").value;document.getElementById("bracketFrom"),u.value=u.value.replace(new RegExp(`\\${s[0]}|\\${s[1]}`,"g"),(e=>"rtl"===d&&"corner"===g?e===s[0]?i[1]:i[0]:e===s[0]?i[0]:i[1]));break;case"reverseBracketDirection":const v={"(":")",")":"(","[":"]","]":"[","⁽":"⁾","⁾":"⁽","⌜":"⌝","⌝":"⌜"};u.value=u.value.replace(/[()[\]⁽⁾⌜⌝]/g,(e=>v[e]));break;case"convertNumberBrackets":const m=(e={none:["",""],round:["(",")"],square:["[","]"],superscript:["⁽","⁾"]})[document.getElementById("numberBracketFrom").value],p=e[document.getElementById("numberBracketTo").value];e=u.value,m[0]&&(e=e.replace(new RegExp(`\\${m[0]}\\d+\\${m[1]}`,"g"),(e=>e.slice(m[0].length,-m[1].length)))),p[0]&&(e=e.replace(/\d+/g,(e=>`${p[0]}${e}${p[1]}`))),u.value=e;break;case"keepOnlyDhivehi":u.value=u.value.replace(/[^\u0780-\u07BF\s]/g,"");break;case"removeAllDhivehi":u.value=u.value.replace(/[\u0780-\u07BF]/g,"");break;case"keepOnlyArabic":u.value=u.value.replace(/[^\u0600-\u06ff\u0750-\u077f\ufb50-\ufbc1\ufbd3-\ufd3f\ufd50-\ufd8f\ufd92-\ufdc7\ufe70-\ufefc\uFDF0-\uFDFD\s]/g,"");break;case"removeAllArabic":u.value=u.value.replace(/[\u0600-\u06ff\u0750-\u077f\ufb50-\ufbc1\ufbd3-\ufd3f\ufd50-\ufd8f\ufd92-\ufdc7\ufe70-\ufefc\uFDF0-\uFDFD]/g,"");break;case"keepOnlyEnglish":u.value=u.value.replace(/[^A-Za-z\s]/g,"");break;case"removeAllEnglish":u.value=u.value.replace(/[A-Za-z]/g,"");break;case"removeSpacesAndSingleLines":u.value=u.value.replace(/^ +| +$/gm,"").replace(/ +/g," ").trim().replace(/\n{2,}/g,"\n");break;case"removeSpacesAndDoubleLines":u.value=u.value.replace(/^ +| +$/gm,"").replace(/ +/g," ").trim().replace(/\n{3,}/g,"\n\n");break;case"wordWrap":u.value=u.value.replace(/\s+/g," ").trim();break;case"removeExtraSpacesOnly":u.value=u.value.replace(/^ +| +$/gm,"").replace(/ +/g," ").trim();break;case"removeSingleLinesOnly":u.value=u.value.trim().replace(/\n{2,}/g,"\n");break;case"removeDoubleLinesOnly":u.value=u.value.trim().replace(/\n{3,}/g,"\n\n");break;case"dotsToEllipsis":u.value=u.value.replace(/\.{3}/g,"…");break;case"ellipsisToDots":u.value=u.value.replace(/…/g,"...");break;case"convertDashes":e=(a={hyphen:"-",en:"–",em:"—"})[document.getElementById("dashFrom").value],a=a[document.getElementById("dashTo").value],u.value=u.value.replace(new RegExp(e,"g"),a)}t()}(e.target.dataset.action),o.classList.remove("show"))}))})),document.addEventListener("click",l),document.getElementById("copyToClipboard").addEventListener("click",(()=>{navigator.clipboard.writeText(u.value)})),document.getElementById("clearAll").addEventListener("click",(()=>{u.value="",f=[{id:1,content:""}],b.innerHTML='<button class="numbered-tab active" data-tab="1">1</button><button id="addTab">+</button>',y=1,t()}));let E=!0;document.getElementById("toggleDirection").addEventListener("click",(()=>{E=!E,u.style.direction=E?"rtl":"ltr",u.style.textAlign=E?"right":"left"}));let k=!1;document.getElementById("convertQuotes").addEventListener("click",(()=>{u.value=k?u.value.replace(/[\u2018\u2019]/g,"'").replace(/[\u201C\u201D]/g,'"'):u.value.replace(/(\W|^)"(\S)/g,"$1”$2").replace(/(\u201D[^"]*)"([^"]*$|[^\u201D"]*\u201D)/g,"$1“$2").replace(/([^0-9])"/g,"$1“").replace(/(\W|^)'(\S)/g,"$1’$2").replace(/([a-z])'([a-z])/gi,"$1‘$2").replace(/((\u2019[^']*)|[a-z])'([^0-9]|$)/gi,"$1‘$3").replace(/(\u2019)([0-9]{2}[^\u2018]*)(\u2019([^0-9]|$)|$|\u2018[a-z])/gi,"‘$2$3").replace(/(\B|^)\u2019(?=([^\u2018]*\u2018\b)*([^\u2018\u2019]*\W[\u2018\u2019]\b|[^\u2018\u2019]*$))/gi,"$1‘").replace(/'''/g,"‴").replace(/''/g,"″").replace(/'/g,"′"),k=!k,t()})),document.getElementById("genRandPass").addEventListener("click",(()=>{const e=Math.floor(9*Math.random())+8;let a="";for(let t=0;t<e;t++)a+=String.fromCharCode(Math.floor(94*Math.random()+33));var n;u.value=(n=a,[{regex:/[a-z]/,range:[97,122]},{regex:/[A-Z]/,range:[65,90]},{regex:/[0-9]/,range:[48,57]},{regex:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>/?]/,range:[33,47]}].forEach((e=>{if(!e.regex.test(n)){const t=Math.floor(Math.random()*n.length);e=String.fromCharCode(Math.floor(Math.random()*(e.range[1]-e.range[0]+1))+e.range[0]),n=n.substring(0,t)+e+n.substring(t+1)}})),n),t()}));const $={"ޘ":"ސ","ޙ":"ހ","ޛ":"ޒ","ޜ":"ޒ","ޞ":"ސ","ޠ":"ތ","ޡ":"ޒ","ޢ":"އ","ޤ":"ގ","ޥ":"ވ"},I=[["އަ","a"],["އާ","aa"],["އި","i"],["އީ","ee"],["އު","u"],["އޫ","oo"],["އެ","e"],["އޭ","ey"],["އޮ","o"],["އޯ","oa"],["ުއް","uh"],["ިއް","ih"],["ެއް","eh"],["ަށް","ah"],["ައް","ah"],["ށް","h"],["ތް","i"],["ާއް","aah"],["އް","h"],["ަ","a"],["ާ","aa"],["ި","i"],["ީ","ee"],["ު","u"],["ޫ","oo"],["ެ","e"],["ޭ","ey"],["ޮ","o"],["ޯ","oa"],["ް",""],["ހ","h"],["ށ","sh"],["ނ","n"],["ރ","r"],["ބ","b"],["ޅ","lh"],["ކ","k"],["އ","a"],["ވ","v"],["މ","m"],["ފ","f"],["ދ","dh"],["ތ","th"],["ލ","l"],["ގ","g"],["ޏ","y"],["ސ","s"],["ޑ","d"],["ޒ","z"],["ޓ","t"],["ޔ","y"],["ޕ","p"],["ޖ","j"],["ޗ","ch"],["ޙ","h"],["ޚ","kh"],["ޛ‎","z"],["ޜ‎","z"],["ޝ‎","sh"],["ޝ","sh"],["ޤ","q"],["ޢ","a"],["ޞ","s"],["ޟ","dh"],["ޡ","z"],["ޠ","t"],["ާާޣ","gh"],["ޘ","th"],["ޛ","dh"],["ާާޜ","z"]];document.getElementById("transliterateDvToEn").addEventListener("click",(()=>{r(),u.value=function(e){e=e.replace(/[\u200B-\u200D\uFEFF]/g,"");for(const[t,a]of I)e=e.replace(new RegExp(t,"g"),a);return e.replace(/(^\s*\w|[.!?]\s*\w)/g,(e=>e.toUpperCase()))}(u.value),n(),t()}));const S=[["ـ",""],["آ","އާ"],["ب","ބ"],["ت","ތ"],["ث","ޘ"],["ج","ޖ"],["ح","ޙ"],["خ","ޚ"],["د","ދ"],["ذ","ޛ"],["ر","ރ"],["ز","ޒ"],["س","ސ"],["ش","ޝ"],["ص","ޞ"],["ض","ޟ"],["ط","ޠ"],["ظ","ޡ"],["ع","ޢ"],["غ","ޣ"],["ف","ފ"],["ق","ޤ"],["ك","ކ"],["ل","ލ"],["م","މ"],["ن","ނ"],["ه","ހ"],["و","ވ"],["ي","ޔ"],["ة","ތ"],["ء","އ"],["أ","އ"],["ؤ","އ"],["إ","އ"],["ئ","އ"],["ى","އ"],["َ","ަ"],["ِ","ި"],["ُ","ު"],["ْ","ް"],["ً","ަން"],["ٍ","ިން"],["ٌ","ުން"],["ަا","ާ"],["اލ","ލ"],["ލއްލަހ","ﷲ"],["ލލހ","ﷲ"],["ލއް","އް"],["ާ އްލަ","ަ އްލަ"],["ا",""],["ުވ","ޫ"],["އ އް"," އް"],["ޫ ލ","ު ލ"],["އްލަލ","އްލަ"],["«",'"'],["»",'"']];document.getElementById("transliterateArToDv").addEventListener("click",(()=>{r(),u.value=function(e){e=(e=(e=e.replace(/(.)ّ/g,((e,t)=>`އް${S.find((([e])=>e===t))?.[1]||t}`))).replace(/ة([َِ ُ ً ٍ ٌ])/g,"ތ$1")).replace(/ة(?![َِ ُ ً ٍ ٌ])/g,"ހ");for(const[t,a]of S)e=e.replace(new RegExp(t,"g"),a);return e}(u.value),t()}));const L=new class{constructor(){this.ehbari="ސުމެއް އެއް ދެ ތިން ހަތަރު ފަސް ހަ ހަތް އަށް ނުވަ ދިހަ އެގާރަ ބާރަ ތޭރަ ސާދަ ފަނަރަ ސޯޅަ ސަތާރަ އަށާރަ ނަވާރަ ވިހި އެކާވީސް ބާވީސް ތޭވީސް ސައުވީސް ފަންސަވީސް ސައްބީސް ހަތާވީސް އަށާވީސް ނަވާވީސް".split(" "),this.dhihabari="ސުން ދިހަ ވިހި ތިރީސް ސާޅީސް ފަންސާސް ފަސްދޮޅަސް ހައްދިހަ އައްޑިހަ ނުވަދިހަ".split(" "),this.sunbari=["","ހާސް","މިލިޔަން","ބިލިޔަން","ޓްރިލިޔަން"]}convert(e){return e?1e3>(e=parseInt(e))?this.thousandSub(e):this.thousandUp(e):null}thousandSub(e){var t="ސަތޭކަ ";if(0>=e||29>=e)return this.ehbari[e];if(99>=e)return t=Math.floor(e/10),0===(e%=10)?this.dhihabari[t]:`${this.dhihabari[t]} ${this.ehbari[e]}`;if(999>=e){const a=e%100;return 2===(e=Math.floor(e/100))&&(this.ehbari[2]="ދުވި",t="ސައްތަ "),0===a?`${this.ehbari[e]} ${t}`:`${this.ehbari[e]} ${t}${this.thousandSub(a)}`}return""}thousandHalf(e){const t=[];for(;0!==e;)t.push(e%1e3),e=Math.floor(e/1e3);return t}thousandUp(e){var t=this.thousandHalf(e);e=t.length-1;const a=[];for(var n of t.reverse()){t=`${this.thousandSub(n)} `;let r=`${this.sunbari[e]} `;if(" "===t)break;"ސުން "!==t&&"ސުމެއް "!==t||(r=t=""),a.push(t+r),--e}return(n=a.join("")).endsWith(",")&&(n=n.slice(0,-1)),n.trim()}};document.getElementById("Nos2DvTxt").addEventListener("click",(()=>{r();const e=u.value.split("\n").map((e=>{const t=e.match(/\d+/g);return t?t.map((e=>L.convert(e).replace(/\s+/g," ").trim())).join("، "):e.trim()}));u.value=e.filter((e=>0<e.length)).join("\n"),t()})),document.getElementById("removeThikijehiThaana").addEventListener("click",(()=>{var e;u.value=(e=u.value,r(),e.replace(/[ޘޙޛޜޞޠޡޢޤޥ]/g,(e=>$[e]||e))),t()}));const B=document.getElementById("filiIssuesResults");document.getElementById("findFiliIssues").addEventListener("click",(()=>{const e=/[\u07a6-\u07b0]/,t=/[\u064b-\u0650\u0652-\u0656]/,a=/[\u0780-\u07a5]/,n=/[\u064e\u064f\u0650]/,r=u.value.split(/\s+/),l=[];for(let o=0;o<r.length;o++){const c=r[o];let s=[];for(let r=0;r<c.length;r++){const l=c[r],o=c[r+1]||"",u=c[r-1]||"";e.test(l)&&e.test(o)||t.test(l)&&t.test(o)||"ّ"===l&&"ّ"===o?(0<s.length&&"standalone"===s[s.length-1].type&&s[s.length-1].index===r-1&&s.pop(),s.push({type:"multiple",index:r}),r++):(a.test(l)&&"ނ"!==l&&!e.test(o)&&s.push({type:"noDvFili",index:r}),!e.test(l)&&!t.test(l)&&"ّ"!==l||a.test(u)||/[\u0600-\u06FF]/.test(u)||"ّ"===l&&n.test(o)||s.push({type:"standalone",index:r}))}0<s.length&&l.push({word:c,index:o,issues:s})}!function(e){if(0===e.length)B.innerHTML="No issues found.";else{var t=e.reduce(((e,t)=>e+t.issues.length),0),a=u.value.split(/\s+/),n=`Found ${t} issue${1<t?"s":""}<br>`;e.forEach(((e,t)=>{const r=a[e.index-1]||"",l=a[e.index+1]||"";let o=e.issues.map((t=>{let a,n;switch(a="multiple"===t.type?`${e.word[t.index-1]||""}${e.word[t.index]} ${e.word[t.index+1]}`:`${e.word[t.index-1]||""} ${e.word[t.index]}`,t.type){case"multiple":n=`Multiple Fili :&nbsp; ${a}`;break;case"noDvFili":n=`Thaana w/o Fili :&nbsp; ${a}`;break;case"standalone":n=`Standalone Fili :&nbsp; ${a}`}return n})).join(", ");n+=`${t+1}. ${r} <span style="color: blue;">${e.word}</span> ${l} : <span style="color: red;">${o}</span><br>`})),B.innerHTML=n}B.style.display="block"}(l)})),document.getElementById("removePunctuation").addEventListener("click",(()=>{r(),u.value=u.value.replace(/[^\w\s]/g,""),t()}));let C=0;document.getElementById("convertSalawat").addEventListener("click",(()=>{C++,u.value=1==C%2?u.value.replace(/صَلَّى اللهُ عَلَيْهِ وَسَلَّمَ|صلى الله عليه وسلم/g,"ﷺ"):u.value.replace(/ﷺ/g,"صَلَّى اللهُ عَلَيْهِ وَسَلَّمَ"),t()}));let x=!1;const w={a:"4",e:"3",i:"!",o:"0",t:"7",l:"1",s:"5"},T=Object.fromEntries(Object.entries(w).map((([e,t])=>[t,e])));document.getElementById("toggleLeetSpeak").addEventListener("click",(()=>{u.value=x?u.value.replace(/[43!0715]/g,(e=>T[e])):u.value.toLowerCase().replace(/[aeiotls]/g,(e=>w[e])),x=!x,t(),n()})),document.getElementById("removeKashidas").addEventListener("click",(()=>{r(),u.value=u.value.replace(/ـ/g,""),t()})),document.getElementById("shaddaB4Haraka").addEventListener("click",(()=>{r(),u.value=u.value.replace(RegExp("([ًٌٍَُِّْ])(ّ)","g"),((e,t,a)=>"ْ"===t?e:a+t))})),document.getElementById("removeQuranicMarks").addEventListener("click",(()=>{r(),u.value=u.value.replace(/[ۖۗۘۙۚۛۜ۝۞ۣ۟۠ۡۢۤۥۦۧۨ۩۪ۭ۫۬﴾﴿]/g,"").replace(/\s+/g," ").trim(),t()}));let D=0;document.getElementById("replaceQuoteToDoubleAngleBrackets").addEventListener("click",(()=>{switch(r(),D){case 0:u.value=u.value.replace(/"([^"]*)"/g,"«$1»").replace(/\(\(([^)]*)\)\)/g,"«$1»"),document.getElementById("replaceQuoteToDoubleAngleBrackets").textContent="« » → (( ))",D=1;break;case 1:u.value=u.value.replace(/«([^»]*)»/g,"(($1))"),document.getElementById("replaceQuoteToDoubleAngleBrackets").textContent='(( )) → " "',D=2;break;case 2:u.value=u.value.replace(/\(\(([^)]*)\)\)/g,'"$1"'),document.getElementById("replaceQuoteToDoubleAngleBrackets").textContent='" " / (( )) → « »',D=0}t()})),document.getElementById("replaceDoubleBracketsToSingle").addEventListener("click",(()=>{u.value=u.value.replace(/\(\(([^)]*)\)\)/g,"($1)"),t()}));let A=!0;document.getElementById("replaceQuranicBrackets").addEventListener("click",(()=>{const e=A?{"{":"﴿","}":"﴾","*":"۝"}:{"﴿":"{","﴾":"}","۝":"*"};u.value=u.value.replace(/[﴾﴿۝{}*]/g,(t=>e[t]||t)),A=!A,t()}));let F=!0;document.getElementById("replaceRtlPunc").addEventListener("click",(()=>{const e=F?{"،":",","؛":";","؟":"?"}:{",":"،",";":"؛","?":"؟"};u.value=u.value.replace(/[،؛؟,;?]/g,(t=>e[t]||t)),F=!F,t()})),document.getElementById("replaceColon2Fullstop").addEventListener("click",(()=>{r(),u.value=u.value.replace(/:/g,"."),t()}));const M=document.getElementById("seqMinInput"),j=document.getElementById("seqMaxInput");let R=1,U=10;document.getElementById("generateNumSequence").addEventListener("click",(()=>{"none"===M.style.display?(M.style.display="inline-block",j.style.display="inline-block",M.value=R):(R=parseInt(M.value),U=parseInt(j.value),isNaN(R)&&(R=0),isNaN(U)&&(U=10),R>U&&([R,U]=[U,R],M.value=R,j.value=U));var e="";for(let t=R;t<=U;t++)e+=t+"\n";e=e.trim(),u.value=e})),M.addEventListener("change",(()=>{R=parseInt(M.value),isNaN(R)&&(R=0)})),j.addEventListener("change",(()=>{U=parseInt(j.value),isNaN(U)&&(U=10)}));const z=document.getElementById("RandNoMinInput"),N=document.getElementById("RandNoMaxInput");let q=1,W=10;document.getElementById("randomNum").addEventListener("click",(()=>{"none"===z.style.display?(z.style.display="inline-block",N.style.display="inline-block",z.value=q):(q=parseInt(z.value)||1,W=parseInt(N.value)||10,q>W&&([q,W]=[W,q],z.value=q,N.value=W)),u.value=(Math.floor(Math.random()*(W-q+1))+q).toString(),t()})),z.addEventListener("change",(()=>{q=parseInt(z.value)||1})),N.addEventListener("change",(()=>{W=parseInt(N.value)||10})),document.getElementById("numerateWords").addEventListener("click",(()=>{const e=document.getElementById("textArea");document.getElementById("numerateWords").textContent.includes("No → Wrd")?(e.value=e.value.replace(/\b\d+\b/g,(e=>function(e){const t=" one two three four five six seven eight nine".split(" "),a="  twenty thirty forty fifty sixty seventy eighty ninety".split(" ");var n="ten eleven twelve thirteen fourteen fifteen sixteen seventeen eighteen nineteen".split(" ");return 10>e?t[e]:20>e?n[e-10]:100>e?(n=e%10,a[Math.floor(e/10)]+(n?`-${t[n]}`:"")):e}(parseInt(e)))).replace(/%/g,"percent"),document.getElementById("numerateWords").textContent="Wrd → No"):(e.value=e.value.replace(/\b(?:\w+(?:-\w+)*)\b/g,(e=>{var t=e.toLowerCase();return e={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12,thirteen:13,fourteen:14,fifteen:15,sixteen:16,seventeen:17,eighteen:18,nineteen:19,twenty:20,thirty:30,forty:40,fifty:50,sixty:60,seventy:70,eighty:80,ninety:90,hundred:100},t.includes("-")?e=(e[(t=t.split("-"))[0]]||0)+(e[t[1]]||0):e=e[t]||t,e})).replace(/\bpercent\b/g,"%"),document.getElementById("numerateWords").textContent="No → Wrd"),t()}));const O=document.getElementById("repeatInput");document.getElementById("repeatLines").addEventListener("click",(()=>{if("none"===O.style.display)O.style.display="inline-block";else{const e=parseInt(O.value)||1;u.value=Array(e).fill(u.value).join("\n"),t()}}));const H=document.getElementById("prefixInput"),P=document.getElementById("suffixInput");document.getElementById("prefixSuffixToLine").addEventListener("click",(()=>{if("none"===H.style.display)H.style.display="inline-block",P.style.display="inline-block";else{const e=H.value,a=P.value,n=u.value.split("\n").map((t=>e+t+a));u.value=n.join("\n"),t()}}));const Z=document.getElementById("removeFromStart"),_=document.getElementById("removeFromEnd");document.getElementById("rmvNoOfCharsPerLine").addEventListener("click",(()=>{if("none"===Z.style.display)Z.style.display="inline-block",_.style.display="inline-block";else{const e=parseInt(Z.value)||0,a=parseInt(_.value)||0,n=u.value.split("\n").map((t=>t.length<=e+a?"":t.slice(e,t.length-a)));u.value=n.join("\n"),t()}}));const Q=document.getElementById("findInput"),J=document.getElementById("replaceInput");document.getElementById("findAndReplaceText").addEventListener("click",(()=>{var e=Q.value;const a=J.value;e&&(e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),u.value=u.value.replace(e,a),t())})),document.getElementById("diffCompare").addEventListener("click",(()=>{window.open("diffCompare.html","_blank")})),document.getElementById("fullscreen").addEventListener("click",(()=>{document.fullscreenElement?(document.exitFullscreen(),u.style.height="300px"):(document.documentElement.requestFullscreen(),u.style.height="100vh")})),document.addEventListener("fullscreenchange",(()=>{document.fullscreenElement||(u.style.height="300px")})),o(),setInterval(o,6e4),document.getElementById("toggleMilitaryTime").addEventListener("click",(()=>{const e="true"===localStorage.getItem("militaryTime");localStorage.setItem("militaryTime",!e),o()})),document.querySelectorAll(".copy-button-other").forEach((e=>{e.addEventListener("click",(()=>{navigator.clipboard.writeText(e.textContent)}))})),u.addEventListener("input",(e=>{const t=e.target.selectionStart;var a=e.target.value.substring(0,t);"ss-"===a.split(/\s/).pop()&&(a=a.replace(/ss-$/,"ﷺ")+e.target.value.substring(t),e.target.value=a,e.target.setSelectionRange(t,t))})),document.querySelectorAll(".copy-button").forEach((e=>{e.addEventListener("click",(()=>{navigator.clipboard.writeText(e.dataset.text)}))})),document.querySelectorAll(".copy-button-lit").forEach((e=>{e.addEventListener("click",(()=>{navigator.clipboard.writeText(e.textContent)}))}));const Y=JSON.parse(localStorage.getItem("editorTabs"));Y&&(f=Y,f.forEach((e=>{if(1<e.id){const t=document.createElement("button");t.classList.add("numbered-tab"),t.dataset.tab=e.id,t.textContent=e.id,b.insertBefore(t,h)}})),a(parseInt(localStorage.getItem("currentTab"))||1)),setInterval((()=>{f[y-1].content=u.value,localStorage.setItem("editorTabs",JSON.stringify(f)),localStorage.setItem("currentTab",y)}),5e3),t()}));