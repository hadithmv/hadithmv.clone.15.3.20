var qrcodegen,app;!function(e){function t(e,t,r){if(0>t||31<t||0!=e>>>t)throw new RangeError("Value out of range");for(--t;0<=t;t--)r.push(e>>>t&1)}function r(e){if(!e)throw Error("Assertion error")}class n{static encodeText(t,r){return t=e.QrSegment.makeSegments(t),n.encodeSegments(t,r)}static encodeBinary(t,r){return t=e.QrSegment.makeBytes(t),n.encodeSegments([t],r)}static encodeSegments(e,i,s=1,a=40,l=-1,h=!0){if(!(n.MIN_VERSION<=s&&s<=a&&a<=n.MAX_VERSION)||-1>l||7<l)throw new RangeError("Invalid value");for(;;s++){const t=8*n.getNumDataCodewords(s,i),r=o.getTotalBits(e,s);if(r<=t){a=r;break}if(s>=a)throw new RangeError("Data too long")}for(const e of[n.Ecc.MEDIUM,n.Ecc.QUARTILE,n.Ecc.HIGH])h&&a<=8*n.getNumDataCodewords(s,e)&&(i=e);for(var u of(h=[],e)){t(u.mode.modeBits,4,h),t(u.numChars,u.mode.numCharCountBits(s),h);for(const e of u.getData())h.push(e)}for(r(h.length==a),e=8*n.getNumDataCodewords(s,i),r(h.length<=e),t(0,Math.min(4,e-h.length),h),t(0,(8-h.length%8)%8,h),r(0==h.length%8),u=236;h.length<e;u^=253)t(u,8,h);let c=[];for(;8*c.length<h.length;)c.push(0);return h.forEach(((e,t)=>c[t>>>3]|=e<<7-(7&t))),new n(s,i,c,l)}constructor(e,t,o,i){if(this.version=e,this.errorCorrectionLevel=t,this.modules=[],this.isFunction=[],e<n.MIN_VERSION||e>n.MAX_VERSION)throw new RangeError("Version value out of range");if(-1>i||7<i)throw new RangeError("Mask value out of range");for(this.size=4*e+17,e=[],t=0;t<this.size;t++)e.push(!1);for(t=0;t<this.size;t++)this.modules.push(e.slice()),this.isFunction.push(e.slice());if(this.drawFunctionPatterns(),o=this.addEccAndInterleave(o),this.drawCodewords(o),-1==i)for(o=1e9,e=0;8>e;e++)this.applyMask(e),this.drawFormatBits(e),(t=this.getPenaltyScore())<o&&(i=e,o=t),this.applyMask(e);r(0<=i&&7>=i),this.mask=i,this.applyMask(i),this.drawFormatBits(i),this.isFunction=[]}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}drawFunctionPatterns(){for(var e=0;e<this.size;e++)this.setFunctionModule(6,e,0==e%2),this.setFunctionModule(e,6,0==e%2);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const t=(e=this.getAlignmentPatternPositions()).length;for(let r=0;r<t;r++)for(let n=0;n<t;n++)0==r&&0==n||0==r&&n==t-1||r==t-1&&0==n||this.drawAlignmentPattern(e[r],e[n]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){var t=e|=this.errorCorrectionLevel.formatBits<<3;for(let e=0;10>e;e++)t=t<<1^1335*(t>>>9);for(r(0==(e=21522^(e<<10|t))>>>15),t=0;5>=t;t++)this.setFunctionModule(8,t,!!(e>>>t&1));for(this.setFunctionModule(8,7,!!(e>>>6&1)),this.setFunctionModule(8,8,!!(e>>>7&1)),this.setFunctionModule(7,8,!!(e>>>8&1)),t=9;15>t;t++)this.setFunctionModule(14-t,8,!!(e>>>t&1));for(t=0;8>t;t++)this.setFunctionModule(this.size-1-t,8,!!(e>>>t&1));for(t=8;15>t;t++)this.setFunctionModule(8,this.size-15+t,!!(e>>>t&1));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(!(7>this.version)){for(var e=this.version,t=0;12>t;t++)e=e<<1^7973*(e>>>11);for(r(0==(e|=this.version<<12)>>>18),t=0;18>t;t++){const r=!!(e>>>t&1),n=this.size-11+t%3,o=Math.floor(t/3);this.setFunctionModule(n,o,r),this.setFunctionModule(o,n,r)}}}drawFinderPattern(e,t){for(let r=-4;4>=r;r++)for(let n=-4;4>=n;n++){const o=Math.max(Math.abs(n),Math.abs(r)),i=e+n,s=t+r;0<=i&&i<this.size&&0<=s&&s<this.size&&this.setFunctionModule(i,s,2!=o&&4!=o)}}drawAlignmentPattern(e,t){for(let r=-2;2>=r;r++)for(let n=-2;2>=n;n++)this.setFunctionModule(e+n,t+r,1!=Math.max(Math.abs(n),Math.abs(r)))}setFunctionModule(e,t,r){this.modules[t][e]=r,this.isFunction[t][e]=!0}addEccAndInterleave(e){var t=this.version,o=this.errorCorrectionLevel;if(e.length!=n.getNumDataCodewords(t,o))throw new RangeError("Invalid argument");const i=n.NUM_ERROR_CORRECTION_BLOCKS[o.ordinal][t],s=n.ECC_CODEWORDS_PER_BLOCK[o.ordinal][t],a=i-(t=Math.floor(n.getNumRawDataModules(t)/8))%i,l=Math.floor(t/i);o=[];const h=n.reedSolomonComputeDivisor(s);for(let t=0,r=0;t<i;t++){let i=e.slice(r,r+l-s+(t<a?0:1));r+=i.length;const u=n.reedSolomonComputeRemainder(i,h);t<a&&i.push(0),o.push(i.concat(u))}let u=[];for(let e=0;e<o[0].length;e++)o.forEach(((t,r)=>{(e!=l-s||r>=a)&&u.push(t[e])}));return r(u.length==t),u}drawCodewords(e){if(e.length!=Math.floor(n.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let t=0;for(let r=this.size-1;1<=r;r-=2){6==r&&(r=5);for(let n=0;n<this.size;n++)for(let o=0;2>o;o++){const i=r-o,s=r+1&2?n:this.size-1-n;!this.isFunction[s][i]&&t<8*e.length&&(this.modules[s][i]=!!(e[t>>>3]>>>7-(7&t)&1),t++)}}r(t==8*e.length)}applyMask(e){if(0>e||7<e)throw new RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let r=0;r<this.size;r++){let n;switch(e){case 0:n=0==(r+t)%2;break;case 1:n=0==t%2;break;case 2:n=0==r%3;break;case 3:n=0==(r+t)%3;break;case 4:n=0==(Math.floor(r/3)+Math.floor(t/2))%2;break;case 5:n=0==r*t%2+r*t%3;break;case 6:n=0==(r*t%2+r*t%3)%2;break;case 7:n=0==((r+t)%2+r*t%3)%2;break;default:throw Error("Unreachable")}!this.isFunction[t][r]&&n&&(this.modules[t][r]=!this.modules[t][r])}}getPenaltyScore(){let e=0;for(var t=0;t<this.size;t++){for(var o=!1,i=0,s=[0,0,0,0,0,0,0],a=0;a<this.size;a++)this.modules[t][a]==o?5==++i?e+=n.PENALTY_N1:5<i&&e++:(this.finderPenaltyAddHistory(i,s),o||(e+=this.finderPenaltyCountPatterns(s)*n.PENALTY_N3),o=this.modules[t][a],i=1);e+=this.finderPenaltyTerminateAndCount(o,i,s)*n.PENALTY_N3}for(t=0;t<this.size;t++){for(o=!1,i=0,s=[0,0,0,0,0,0,0],a=0;a<this.size;a++)this.modules[a][t]==o?5==++i?e+=n.PENALTY_N1:5<i&&e++:(this.finderPenaltyAddHistory(i,s),o||(e+=this.finderPenaltyCountPatterns(s)*n.PENALTY_N3),o=this.modules[a][t],i=1);e+=this.finderPenaltyTerminateAndCount(o,i,s)*n.PENALTY_N3}for(t=0;t<this.size-1;t++)for(o=0;o<this.size-1;o++)(i=this.modules[t][o])==this.modules[t][o+1]&&i==this.modules[t+1][o]&&i==this.modules[t+1][o+1]&&(e+=n.PENALTY_N2);for(var l of(t=0,this.modules))t=l.reduce(((e,t)=>e+(t?1:0)),t);return l=this.size*this.size,r(0<=(l=Math.ceil(Math.abs(20*t-10*l)/l)-1)&&9>=l),e+=l*n.PENALTY_N4,r(0<=e&&2568888>=e),e}getAlignmentPatternPositions(){if(1==this.version)return[];const e=Math.floor(this.version/7)+2,t=2*Math.floor((8*this.version+3*e+5)/(4*e-4));let r=[6];for(let n=this.size-7;r.length<e;n-=t)r.splice(1,0,n);return r}static getNumRawDataModules(e){if(e<n.MIN_VERSION||e>n.MAX_VERSION)throw new RangeError("Version number out of range");let t=(16*e+128)*e+64;if(2<=e){const r=Math.floor(e/7)+2;t-=(25*r-10)*r-55,7<=e&&(t-=36)}return r(208<=t&&29648>=t),t}static getNumDataCodewords(e,t){return Math.floor(n.getNumRawDataModules(e)/8)-n.ECC_CODEWORDS_PER_BLOCK[t.ordinal][e]*n.NUM_ERROR_CORRECTION_BLOCKS[t.ordinal][e]}static reedSolomonComputeDivisor(e){if(1>e||255<e)throw new RangeError("Degree out of range");let t=[];for(var r=0;r<e-1;r++)t.push(0);t.push(1),r=1;for(let o=0;o<e;o++){for(let e=0;e<t.length;e++)t[e]=n.reedSolomonMultiply(t[e],r),e+1<t.length&&(t[e]^=t[e+1]);r=n.reedSolomonMultiply(r,2)}return t}static reedSolomonComputeRemainder(e,t){let r=t.map((e=>0));for(const o of e){const e=o^r.shift();r.push(0),t.forEach(((t,o)=>r[o]^=n.reedSolomonMultiply(t,e)))}return r}static reedSolomonMultiply(e,t){if(0!=e>>>8||0!=t>>>8)throw new RangeError("Byte out of range");let n=0;for(let r=7;0<=r;r--)n=n<<1^285*(n>>>7),n^=(t>>>r&1)*e;return r(0==n>>>8),n}finderPenaltyCountPatterns(e){const t=e[1];r(t<=3*this.size);const n=0<t&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(n&&e[0]>=4*t&&e[6]>=t?1:0)+(n&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,r){return e&&(this.finderPenaltyAddHistory(t,r),t=0),t+=this.size,this.finderPenaltyAddHistory(t,r),this.finderPenaltyCountPatterns(r)}finderPenaltyAddHistory(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}}n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;class o{static makeBytes(e){let r=[];for(const n of e)t(n,8,r);return new o(o.Mode.BYTE,e.length,r)}static makeNumeric(e){if(!o.isNumeric(e))throw new RangeError("String contains non-numeric characters");let r=[];for(let n=0;n<e.length;){const o=Math.min(e.length-n,3);t(parseInt(e.substring(n,n+o),10),3*o+1,r),n+=o}return new o(o.Mode.NUMERIC,e.length,r)}static makeAlphanumeric(e){if(!o.isAlphanumeric(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");let r,n=[];for(r=0;r+2<=e.length;r+=2){let i=45*o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(r));i+=o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(r+1)),t(i,11,n)}return r<e.length&&t(o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(r)),6,n),new o(o.Mode.ALPHANUMERIC,e.length,n)}static makeSegments(e){return""==e?[]:o.isNumeric(e)?[o.makeNumeric(e)]:o.isAlphanumeric(e)?[o.makeAlphanumeric(e)]:[o.makeBytes(o.toUtf8ByteArray(e))]}static makeEci(e){let r=[];if(0>e)throw new RangeError("ECI assignment value out of range");if(128>e)t(e,8,r);else if(16384>e)t(2,2,r),t(e,14,r);else{if(!(1e6>e))throw new RangeError("ECI assignment value out of range");t(6,3,r),t(e,21,r)}return new o(o.Mode.ECI,0,r)}static isNumeric(e){return o.NUMERIC_REGEX.test(e)}static isAlphanumeric(e){return o.ALPHANUMERIC_REGEX.test(e)}constructor(e,t,r){if(this.mode=e,this.numChars=t,this.bitData=r,0>t)throw new RangeError("Invalid argument");this.bitData=r.slice()}getData(){return this.bitData.slice()}static getTotalBits(e,t){let r=0;for(const n of e){if(e=n.mode.numCharCountBits(t),n.numChars>=1<<e)return 1/0;r+=4+e+n.bitData.length}return r}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let r=0;r<e.length;r++)"%"!=e.charAt(r)?t.push(e.charCodeAt(r)):(t.push(parseInt(e.substring(r+1,r+3),16)),r+=2);return t}}o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=o}(qrcodegen||={}),function(e){!function(e){class t{constructor(e,t){this.ordinal=e,this.formatBits=t}}t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),e.Ecc=t}(e.QrCode||(e.QrCode={}))}(qrcodegen||={}),function(e){!function(e){class t{constructor(e,t){this.modeBits=e,this.numBitsCharCount=t}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}}t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),e.Mode=t}(e.QrSegment||(e.QrSegment={}))}(qrcodegen||={}),function(){function e(){var e=r("output-format-bitmap").checked,n=t("scale-row");let o=t("download");e?(n.style.removeProperty("display"),o.download="qr-code.png"):(n.style.display="none",o.download="qr-code.svg"),o.removeAttribute("href");var i=t("qrcode-canvas"),s=document.getElementById("qrcode-svg");i.style.display="none",s.style.display="none";var a=r("errcorlvl-medium").checked?qrcodegen.QrCode.Ecc.MEDIUM:r("errcorlvl-quartile").checked?qrcodegen.QrCode.Ecc.QUARTILE:r("errcorlvl-high").checked?qrcodegen.QrCode.Ecc.HIGH:qrcodegen.QrCode.Ecc.LOW;n=t("text-input").value;const l=qrcodegen.QrSegment.makeSegments(n);var h=parseInt(r("version-min-input").value,10),u=parseInt(r("version-max-input").value,10),c=parseInt(r("mask-input").value,10);const d=r("boost-ecc-input").checked;if(a=qrcodegen.QrCode.encodeSegments(l,a,h,u,c,d),c=parseInt(r("border-input").value,10),h=r("light-color-input").value,u=r("dark-color-input").value,!(0>c||100<c)){if(e){if(0>=(s=parseInt(r("scale-input").value,10))||30<s)return;!function(e,t,r,n,o,i){if(0>=t||0>r)throw new RangeError("Value out of range");var s=(e.size+2*r)*t;for(i.width=s,i.height=s,i=i.getContext("2d"),s=-r;s<e.size+r;s++)for(let a=-r;a<e.size+r;a++)i.fillStyle=e.getModule(a,s)?o:n,i.fillRect((a+r)*t,(s+r)*t,t,t)}(a,s,c,h,u,i),i.style.removeProperty("display"),o.href=i.toDataURL("image/png")}else e=function(e,t,r,n){if(0>t)throw new RangeError("Border must be non-negative");let o=[];for(let r=0;r<e.size;r++)for(let n=0;n<e.size;n++)e.getModule(n,r)&&o.push(`M${n+t},${r+t}h1v1h-1z`);return`<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 ${e.size+2*t} ${e.size+2*t}" stroke="none">\n    <rect width="100%" height="100%" fill="${r}"/>\n    <path d="${o.join(" ")}" fill="${n}"/>\n</svg>\n`}(a,c,h,u),i=/ viewBox="([^"]*)"/.exec(e)[1],c=/ d="([^"]*)"/.exec(e)[1],s.setAttribute("viewBox",i),s.querySelector("path").setAttribute("d",c),s.querySelector("rect").setAttribute("fill",h),s.querySelector("path").setAttribute("fill",u),s.style.removeProperty("display"),o.href="data:application/svg+xml,"+encodeURIComponent(e);t("statistics-output").textContent=`QR Code version = ${a.version}, mask pattern = ${a.mask}, character count = ${function(e){let t=0;for(const r of e){if(55296<=(e=r.codePointAt(0))&&57344>e)throw new RangeError("Invalid UTF-16 string");t++}return t}(n)},\nencoding mode = ${function(e){if(0==e.length)return"none";if(1==e.length){e=e[0].mode;const t=qrcodegen.QrSegment.Mode;return e==t.NUMERIC?"numeric":e==t.ALPHANUMERIC?"alphanumeric":e==t.BYTE?"byte":e==t.KANJI?"kanji":"unknown"}return"multiple"}(l)}, error correction = level ${"LMQH".charAt(a.errorCorrectionLevel.ordinal)}, data bits = ${qrcodegen.QrSegment.getTotalBits(l,a.version)}.`}}function t(e){if((e=document.getElementById(e))instanceof HTMLElement)return e;throw Error("Assertion error")}function r(e){if((e=t(e))instanceof HTMLInputElement)return e;throw Error("Assertion error")}(app||={}).handleVersionMinMax=function(t){const n=r("version-min-input"),o=r("version-max-input");let i=parseInt(n.value,10),s=parseInt(o.value,10);i=Math.max(Math.min(i,qrcodegen.QrCode.MAX_VERSION),qrcodegen.QrCode.MIN_VERSION),s=Math.max(Math.min(s,qrcodegen.QrCode.MAX_VERSION),qrcodegen.QrCode.MIN_VERSION),"min"==t&&i>s?s=i:"max"==t&&s<i&&(i=s),n.value=i.toString(),o.value=s.toString(),e()},function(){t("loading").style.display="none",t("loaded").style.removeProperty("display");let r=document.querySelectorAll("input[type=number], input[type=text], textarea");for(let t of r)0!=t.id.indexOf("version-")&&(t.oninput=e);r=document.querySelectorAll("input[type=radio], input[type=checkbox]");for(let t of r)t.onchange=e;e()}()}();